# Server Configuration
PORT=4001

# Database Configuration
# Infrastructure integration (default for local development with npm run infra:start)
MONGODB_URI=mongodb://admin:REPLACE_WITH_MONGODB_PASSWORD@localhost:27017/codiesvibe?authSource=admin
# Standalone MongoDB (uncomment if not using infrastructure)
# MONGODB_URI=mongodb://localhost:27017/nestjs-api

# JWT Configuration
JWT_SECRET=REPLACE_WITH_SECURE_JWT_SECRET_MIN_64_CHARS
JWT_EXPIRES_IN=24h

# GitHub OAuth Configuration
GITHUB_CLIENT_ID=REPLACE_WITH_YOUR_GITHUB_CLIENT_ID
GITHUB_CLIENT_SECRET=REPLACE_WITH_YOUR_GITHUB_CLIENT_SECRET
GITHUB_CALLBACK_URL=http://localhost:4000/api/auth/github/callback

# Environment
NODE_ENV=development

# Application Metadata
VITE_APP_VERSION=${npm_package_version}
VITE_BUILD_DATE=$(date)
VITE_GIT_COMMIT=$(git rev-parse --short HEAD)

# Backend Security
COOKIE_SECRET=REPLACE_WITH_SECURE_COOKIE_SECRET_MIN_32_CHARS
CSRF_SECRET=REPLACE_WITH_SECURE_CSRF_SECRET_MIN_32_CHARS
RATE_LIMIT_WINDOW=900000  # 15 minutes
RATE_LIMIT_MAX=100

# Production Settings
TRUST_PROXY=true
SHUTDOWN_TIMEOUT=30000

# Infrastructure Integration (Docker Compose)
# Uncomment these when using docker-compose.infra.yml or Phase 1 containers

# Redis Configuration (Infrastructure integration)
REDIS_URL=redis://:REPLACE_WITH_REDIS_PASSWORD@localhost:6379
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=REPLACE_WITH_REDIS_PASSWORD

# Monitoring Endpoints
# PROMETHEUS_URL=http://prometheus:9090
# GRAFANA_URL=http://grafana:3000
# LOKI_URL=http://loki:3100

# Development Tools (Infrastructure)
# MONGO_EXPRESS_URL=http://mongo-express:8081
# MAILHOG_SMTP_HOST=mailhog
# MAILHOG_SMTP_PORT=1025
# MAILHOG_WEB_URL=http://mailhog:8025

# Network Configuration
# When running in containers, use these for service-to-service communication:
# FRONTEND_URL=http://frontend:3000  # Development
# FRONTEND_URL=http://nginx:80       # Production (behind nginx)
# BACKEND_URL=http://backend:4000    # Internal API calls

# Container Environment Overrides
# These override the above when running in containerized environments
# NODE_ENV=development|production
# LOG_LEVEL=debug|info|warn|error

# Fastify API Integration
FASTIFY_API_URL=http://localhost:4002