# ================================
# Production Environment Variables
# Copy this file to .env.production and fill in your values
# ================================

# Application Configuration
NODE_ENV=production
PORT=4003
LOG_LEVEL=warn
LOG_FORMAT=json

# ================================
# External Database Services
# ================================

# MongoDB (Cloud or External Server)
# Example formats:
# - MongoDB Atlas: mongodb+srv://username:password@cluster.mongodb.net/dbname?retryWrites=true&w=majority
# - Self-hosted: mongodb://username:password@your-server:27017/dbname?authSource=admin
MONGODB_URI=mongodb+srv://username:password@your-mongodb-server/toolsearch?retryWrites=true&w=majority
MONGODB_DB_NAME=toolsearch

# Qdrant Vector Database (Cloud or External Server)
# Option 1: Use QDRANT_URL for cloud Qdrant
QDRANT_URL=https://your-cluster.qdrant.io
QDRANT_API_KEY=your-qdrant-api-key

# Option 2: Use QDRANT_HOST for self-hosted Qdrant
# QDRANT_HOST=your-qdrant-server.com
# QDRANT_PORT=6333

QDRANT_COLLECTION_NAME=tools

# ================================
# Security Configuration
# ================================

# CORS - Comma-separated list of allowed origins
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
CORS_ORIGINS=https://yourdomain.com

# Security Features
ENABLE_RATE_LIMITING=true
ENABLE_SECURITY_HEADERS=true
ENABLE_VECTOR_VALIDATION=true

# ================================
# LLM Configuration
# ================================

# Together AI API Keys (required for search functionality)
TOGETHER_AI_API_KEY=your-together-ai-api-key
TOGETHER_API_KEY=your-together-ai-api-key

# ================================
# Search Configuration
# ================================

# Cache Settings
ENABLE_CACHE=true
CACHE_TTL=3600

# Multi-vector Search
SEARCH_USE_MULTIVECTOR=true
MULTIVECTOR_MAX_RESULTS=20

# RRF Fusion
SEARCH_RRF_K=60

# Score Thresholds
SEARCH_SCORE_THRESHOLD=0.5
QUERY_EXECUTOR_SCORE_THRESHOLD=0.5
QUERY_EXECUTOR_HIGH_THRESHOLD=0.7

# ================================
# Logging & Monitoring
# ================================

# Loggly Configuration (Optional - Free Tier: 200MB/day)
LOGGLY_ENABLED=false
LOGGLY_TOKEN=your-loggly-customer-token
LOGGLY_SUBDOMAIN=your-subdomain

# ================================
# Performance Tuning
# ================================

# Timeouts (milliseconds)
ENRICHMENT_TIMEOUT_MS=2000

# Limits
MAX_ENTITY_COUNT=10
DEDUPE_THRESHOLD=0.8
